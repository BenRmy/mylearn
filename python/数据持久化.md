# 数据序列化/持久化

## pickle--Python对象序列化，最终是二进制序列化格式

该模块实现了对一个Python对象结构的二进制序列化和反序列化。"Pickling" 是将 Python 对象和所拥有的层次结构被转化为一个字节流的过程，而"unpickling"是相反的操作，会将（来自一个binary file或者bytes-like object 的）字节流转化回一个对象层次结构。注意：pickle模块在接受被错误地构造或者被恶意地构造的数据时不安全，永远不要unpickle来自于不受信任的或者未经验证的来源的数据。

pickle模块提供以下常量：

+ pickle.HIGHEST_PROTOCOL：整数，可用的最高协议版本。这个值可以作为一个被传递协议的价值函数dump()和dumps()以及Pickler构造函数。
+ pickle.DEFAULT_PROTOCOL：整数，用于酸洗的默认协议版本。小于HIGHEST_PROTOCOL。目前，默认协议是3，这是为Python3设计的新协议。

pickle模块提供以下功能，使酸洗过程更加方便：

+ pickle.dump(obj, file, protocol=None, *, fix_imports=True)：将pickled可序列化对象obj写入打开的文件对象中。protocol是可选的协议参数。如果fix_imports为true且protocol小于3，则pickle将尝试将新的Python3名称映射到Python2中使用的旧模块名称，以便使用Python2可读取pickle数据流。
+ pickle.dumps(obj, protocol=None, *, fix_imports=True)：将pickled对象作为bytes对象返回，而不是将其写入文件。
+ pickle.load(file, *, fix_imports=True, encoding="ASCII", errors="strict")：从打开的文件对象中读取pickle对象表示，并返回其中指定的重构对象层次结构。
+ pickle.loads(bytes_object, *, fix_imports=True, encoding="ASCII", errors="strict")：从bytes对象读取pickle对象层次结构并返回其中指定的重构对象层次结构。
